topic: repository-rules
category: concepts
summary: "Repository Rules - External dependency logic"
definition: |
  Rules that define how to fetch and prepare external dependencies (repositories).
  Can download archives, git repos, or generate files.

key_points:
  - "Fetch: Download via HTTP, Git, etc."
  - "Transform: Patch or restructure downloaded content"
  - "Expose: Make external code available as targets"

usage_examples:
  - description: "Defining a repository (HTTP archive)"
    code: |
      repository("gtest") {
        url: "https://github.com/google/googletest/archive/refs/tags/v1.14.0.tar.gz";
        integrity: "sha256-8ad598c73ad796e0d8280b082cebd82a630d73e73cd3c70057938a6501bba5d7";
        stripPrefix: "googletest-1.14.0";
      }

related: [workspace, ecosystem, plugins]

next_steps: |
  - Define external deps in WORKSPACE/builder.yml

